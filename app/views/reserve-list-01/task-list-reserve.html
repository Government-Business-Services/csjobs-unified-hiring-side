{% extends "layouts/main.html" %}

{% block header %}
{% include '/reserve-list-01/header.html' %}
{% endblock %}

{% block pageTitle %}
Create a job – Civil service jobs – GOV.UK Prototype Kit
{% endblock %}
{% block beforeContent %}

{{ govukBackLink({
  text: "Back",
  href: "javascript:window.history.back()"
}) }}

{% if data['offer'] != "sent" %}
<span class="govuk-body-m govuk-!-margin-top-9" style="float:right;background:#1d70b8;border:1px solid #1d70b8;border-radius:5px;padding:7px"><a class="govuk-link  govuk-link--no-underline govuk-link--no-visited-state" style="color:white;padding-left:8px;padding-right:8px" href="/reserve-list-01/task-list"><strong>Cancel reserve list match</strong></a></span>
{% else %}
{% endif %}
{% endblock %}

{% block content %}


<input type="hidden" id="messageSent" value="{{data['message']}}">

<input type="hidden" id="offer" value="{{data['offer']}}">



<script>
const sent = document.getElementById("messageSent");
const offer = document.getElementById("offer");

if (sent.value == "sent") {
  console.log(sent.value)

  // var icu1 = document.getElementById("still");
  // var icu2 = document.getElementById("stilltext");
  document.getElementById("icon").style.display = "block";
  document.getElementById("icon").style.cssText = "z-index:100"

  document.getElementById("textnot").style.display = "block";
  document.getElementById("amelia").style.display = "block";

  // icu1.style.cssText = "z-index:-1"
  // icu1.style.display = "none"
  // icu2.style.cssText = "z-index:-1"
  // icu2.style.display = "none"

}

if (offer.value == "sent") {
  document.getElementById("icon").style.display = "block";
  document.getElementById("icon").style.cssText = "z-index:100"

  document.getElementById("textnot").style.display = "block";
  document.getElementById("amelia").style.display = "none";
  document.getElementById("ameliano").style.display = "block";
}

// if (offersent.value == "sent") {
//   document.getElementById("linkall").style.display = "block"
//   document.getElementById("icon2").style.display = "block";
//   document.getElementById("icon").style.display = "block";
//   document.getElementById("textnot").style.display = "block";
// document.getElementById("amelia").style.display = "none"
// document.getElementById("ameliaDeclines").style.display = "block"
//
// }


// if (offersent.value == "sent") {
//
//   var icu1 = document.getElementById("still");
//   var icu2 = document.getElementById("stilltext");
//   document.getElementById("linkall").style.display = "block"
//   document.getElementById("icon2").style.display = "block";
//   document.getElementById("icon").style.display = "block";
//   document.getElementById("textnot").style.display = "block";
//
//   icu1.style.cssText = "z-index:-1"
//   icu1.style.display = "none"
//   icu2.style.cssText = "z-index:-1"
//   icu2.style.display = "none"
//
// } else {
//   console.log("buggerall")
// }




</script>
{{data['feedbackContent.length']}}
<div class="govuk-grid-row govuk-!-margin-top-3">
  <div class="govuk-grid-column-three-quarters">

    <p style="font-size:24px" class="govuk-body-l govuk-!-margin-bottom-1"><strong>{{ data['title']|default("Policy Adviser")}}, {{ data['grade']|default("SEO")}}</strong></p>


    <h1 class="govuk-heading-xl" style="border-bottom:1px solid #1d70b8">Reserve list match</h1>
    <p class="govuk-body-m govuk-!-margin-bottom-9">Last modified on <strong  id="lastEdit"></strong></p>

    <ol class="govuk-prototype-kit-task-list">
      <li>
        <h2 class="govuk-prototype-kit-task-list__section">
          <span class="govuk-prototype-kit-task-list__section-number">1. </span>{{ data['candidate-name']|default("Amelia Lawson")}}
        </h2>
        <ul class="govuk-prototype-kit-task-list__items">
          <li class="govuk-prototype-kit-task-list__item">
            <span class="govuk-prototype-kit-task-list__task-name">
              <a class="govuk-link--no-underline govuk-link--no-visited-state" href="#" aria-describedby="eligibility-status">
                View application for reserve list candidate
              </a>
            </span>
            <strong class="govuk-tag govuk-prototype-kit-task-list__tag" id="eligibility-status">Completed</strong>
          </li>
          <li class="govuk-prototype-kit-task-list__item">
            <span class="govuk-prototype-kit-task-list__task-name">
              <a  class="govuk-link--no-underline govuk-link--no-visited-state" href="step-4-resp?message=old" aria-describedby="read-declaration-status">
                View candidate's email response
              </a>
            </span>

              {% if data['candidate-name'] == "Amelia Lawson" %}
              <strong class="govuk-tag govuk-prototype-kit-task-list__tag" id="read-declaration-status">response received</strong>
              {% else %}
            <strong class="govuk-tag govuk-tag--grey app-task-list__tag" id="read-declaration-status">waiting</strong>
            {% endif %}
          </li>
          <!-- <li class="govuk-prototype-kit-task-list__item">
            <span class="govuk-prototype-kit-task-list__task-name">
              <a class="govuk-link--no-underline govuk-link--no-visited-state" href="step-5" aria-describedby="read-declaration-status">
                Phone call with candidate
              </a>
            </span>

            {% if data['callprep'] == "viewed" %}
            <strong class="govuk-tag govuk-prototype-kit-task-list__tag" id="read-declaration-status">viewed</strong>
            {% else %}
            <strong class="govuk-tag govuk-tag--grey app-task-list__tag" id="read-declaration-status">not started</strong>
            {% endif %}
          </li> -->
          <li class="govuk-prototype-kit-task-list__item">
            <span class="govuk-prototype-kit-task-list__task-name">
              <a class="govuk-link--no-underline govuk-link--no-visited-state" href="step-6" aria-describedby="read-declaration-status">
                Write feedback from your phone call with the candidate
              </a>
            </span>
            {% if data['feedbackContent'].length > 0 %}
            <strong class="govuk-tag govuk-prototype-kit-task-list__tag" id="read-declaration-status">Completed</strong>
            {% else %}
            <strong class="govuk-tag govuk-tag--grey app-task-list__tag" id="read-declaration-status">not started</strong>
            {% endif %}
          </li>
          <li class="govuk-prototype-kit-task-list__item">
            <span class="govuk-prototype-kit-task-list__task-name">
              <a class="govuk-link--no-underline govuk-link--no-visited-state" href="step-7" aria-describedby="read-declaration-status">
                Send candidate provisional offer
              </a>
            </span>

              {% if data['offer'] == "sent" %}
              <strong class="govuk-tag govuk-prototype-kit-task-list__tag" id="read-declaration-status">Completed</strong>
              {% else %}
            <strong class="govuk-tag govuk-tag--grey app-task-list__tag" id="read-declaration-status">not started</strong>
            {% endif %}
            <!-- <strong class="govuk-tag govuk-prototype-kit-task-list__tag" id="read-declaration-status">Completed</strong> -->
          </li>
        </ul>
      </li>




    </ol>




  </div>
</div>
<script>
  const dateField = document.getElementById('lastEdit');
  var stamp = new Date();
  var time = stamp.toLocaleTimeString('en-us', { hours:"numeric", minutes:"short", seconds:"numeric" })
  var localStamp = stamp.toLocaleDateString('en-us', { day:"numeric", month:"short", year:"numeric" }) ;
  dateField.innerHTML = time+", "+localStamp;
</script>
{% endblock %}
