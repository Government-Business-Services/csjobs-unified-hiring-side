{% extends "layouts/main.html" %}

{% block pageTitle %}
Create a job advert – Civil service jobs – GOV.UK Prototype Kit
{% endblock %}

{% block beforeContent %}
{{ govukBackLink({
  text: "Back",
  href: "javascript:window.history.back()"
}) }}
{% endblock %}

{% block content %}

<form class="form" action="review-sp-table-alt" method="post">
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-three-quarters">


{{ data | dump }}

      <!-- ethnicity-detail, gender-description,sex, gender-identity -->



      {% from "govuk/components/button/macro.njk" import govukButton %}
      {% from "govuk/components/radios/macro.njk" import govukRadios %}
      {% from "govuk/components/input/macro.njk" import govukInput %}

      {% set ethnicityHtml %}
        {{ govukInput({
          id: "other-description",
          name: "other-description",
          type: "text",
          classes: "govuk-!-width-one-half",
          label: {
            text: "How would you describe your background? (optional)"
          }
        }) }}
      {% endset -%}

      {{ govukRadios({
        name: "ethnicity-detail",
        fieldset: {
          legend: {
            text: "Which of the following best describes your background?",
            isPageHeading: true,
            classes: "govuk-fieldset__legend--xl"
          }
        },
        items: [
          {
            value: "arab",
            text: "Arab"
          },
          {
            value: "other",
            text: "Any other ethnic group",
            conditional: {
              html: ethnicityHtml
            }
          },
          {
            divider: "or"
          },
          {
            value: "skip",
            text: "Prefer not to say"
          }
        ]
      }) }}


      {% from "govuk/components/button/macro.njk" import govukButton %}
      {% from "govuk/components/radios/macro.njk" import govukRadios %}
      {% from "govuk/components/input/macro.njk" import govukInput %}

      <h1 class="govuk-heading-l">Sex and gender identity</h1>

      {% set genderHtml %}
        {{ govukInput({
          id: "gender-description",
          name: "gender-description",
          type: "text",
          classes: "govuk-!-width-one-half",
          label: {
            text: "What is your gender identity? (optional)"
          }
        }) }}
      {% endset -%}

      {{ govukRadios({
        name: "sex",
        fieldset: {
          legend: {
            text: "What is your sex?",
            classes: "govuk-fieldset__legend--m"
          }
        },
        items: [
          {
            value: "female",
            text: "Female"
          },
          {
            value: "male",
            text: "Male"
          },
          {
            value: "skip",
            text: "Prefer not to say"
          }
        ]
      }) }}

      {{ govukRadios({
        name: "gender-identity",
        fieldset: {
          legend: {
            text: "Is the gender you identify with the same as your sex registered at birth?",
            classes: "govuk-fieldset__legend--m"
          }
        },
        items: [
          {
            value: "yes",
            text: "Yes"
          },
          {
            value: "no",
            text: "No",
            conditional: {
              html: genderHtml
            }
          },
          {
            value: "skip",
            text: "Prefer not to say"
          }
        ]
      }) }}

      {{ govukButton({
        text: "Continue"
      }) }}




      {{ govukButton({
        text: "Continue"
      }) }}




      <script>
      var chkList = ['Interview question(s)','Presentation']
      var strengthsChkList = ['Interview question(s)'];

    const intStage = JSON.parse(window.sessionStorage.getItem("intStage"));

  var intOutput = document.getElementById("test");

  for (const [key, value] of Object.entries(intStage)) {
    // console.log(`${value}: ${key}`);
    var headint = document.createElement("h3");
    headint.innerHTML = `${value}: ${key}`;
    intOutput.appendChild(headint);




    if (`${value}` == "Strengths") {

      for (var i = 0; i < strengthsChkList.length; i++) {
        var label = document.createElement("label");
        var checkBox = document.createElement("input");
        checkBox.type = "checkbox";
        checkBox.style.cssText = "width: 30px;height: 30px;padding: 0;margin: 0;vertical-align: bottom;position: relative;top: -30px;";
        label.style.cssText = "display: block;padding-left: 15px;text-indent: 40px;";
        checkBox.value = strengthsChkList[i];
        checkBox.setAttribute("id","int-"+i)
        checkBox.setAttribute("name",+"-"+intStage)
        label.appendChild(document.createTextNode(strengthsChkList[i]));
        intOutput.appendChild(label);
        intOutput.appendChild(checkBox);
      }
    } else {

        for (var i = 0; i < chkList.length; i++) {
          var label = document.createElement("label");
          var checkBox = document.createElement("input");
          checkBox.type = "checkbox";
          checkBox.style.cssText = "width: 30px;height: 30px;padding: 0;margin: 0;vertical-align: bottom;position: relative;top: -30px;";
          label.style.cssText = "display: block;padding-left: 15px;text-indent: 40px;";
          checkBox.value = chkList[i];
          checkBox.setAttribute("id","sift-"+i)
          checkBox.setAttribute("name",+"-"+intStage)
          label.appendChild(document.createTextNode(chkList[i]));
          intOutput.appendChild(label);
          intOutput.appendChild(checkBox);
        }

      }










      }

      hrefArr.push({ href: hrefElt, html: html, text: text });




        function checkCheckboxesInt() {
          var exper = [];

          var checkboxInt = document.getElementsByTagName('input');
          console.log(checkboxInt)
          for (i = 0; i < checkboxInt.length; i++) {
            if (checkboxInt[i].type == 'checkbox' && checkboxInt[i].checked ) {
              interviewCheck.push(checkboxInt[i].id,checkboxInt[i].name,checkboxInt[i].value);

              exper.push({ id: checkboxInt[i].id, name: checkboxInt[i].name, value: checkboxInt[i].value });



              window.sessionStorage.setItem("expKe", JSON.stringify(exper));
              window.sessionStorage.setItem("interviewCheck", JSON.stringify(interviewCheck));
            }
          }
        }


      </script>


                      <!-- <button class="govuk-button govuk-!-margin-top-9" onclick="checkCheckboxesInt()" data-module="govuk-button">Continue</button> -->



      <BR><BR>

      </div>
    </div>



  </form>

  {% endblock %}
