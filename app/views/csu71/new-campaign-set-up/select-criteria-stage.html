{% extends "layouts/main.html" %}

{% block header %}
{% include '/csu71/includes/header.html' %}
{% endblock %}
{% block pageTitle %}
Create a job advert – Civil service jobs – GOV.UK Prototype Kit
{% endblock %}

{% block beforeContent %}
<div  style="width:100%;background:#1d70b8;height:45px;border-bottom:0.5px solid #1d70b8;float:left">

  <!-- <div class="govuk-!-margin-top-3" style="float:left;width:40%;margin-left:30px;"><span class="govuk-body-m" style="background:white;border:1px solid #1d70b8;border-radius:5px;padding:7px"><a class="govuk-link  govuk-link--no-underline govuk-link--no-visited-state" style="color:#1d70b8" href="job-library"><strong>Create a new vacancy</strong></a></span>
</div> -->
<span style="float:left;padding-left:10px;color:white;font-weight:bold" class="govuk-caption-l">Selection criteria and assessment methods</span>

<div class="" style="position:relative;float:right;margin-right:20px;margin-top:5px;">


  <span class="govuk-body-m" style="background:white;border:1px solid #1d70b8;border-radius:5px;padding:7px"><a class="govuk-link  govuk-link--no-underline govuk-link--no-visited-state" style="color:#1d70b8;padding-left:8px;padding-right:8px" href="/csu71/task-list-exp-co?banner=noshow"><strong>Return to task list</strong></a></span>

</div>

</div>
{{ govukBackLink({
  text: "Back",
  href: "javascript:window.history.back()"
}) }}
{% endblock %}

{% block content %}


<style>
  p, div {
    font-family: "GDS Transport", arial, sans-serif;
    line-height: 1.2;
    margin: 0.8
  }
  p, li {
    font-size: 18px; line-height: 1.2;
    vertical-align: text-top;

  }


  h2 {
    font-size: 30px; line-height: 0.5;
    vertical-align: text-top;

  }

  hint {


    font-size: 18px;
    font-weight:normal;
    line-height: 1.3;
    vertical-align: text-top;
  }


  h3 {
    font-size: 20px;
    line-height: 1.5;

  }

  label {
    font-size: 18px;
    line-height: 1;
    vertical-align: text-top;
  }


  input[type="checkbox"]:checked  {
    cursor: pointer;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    outline: 0;
    background: white;
    height: 40px;
    width: 40px;
    border: 2px solid black;
    color: black;
  }




  input[type="checkbox"]:after {
    content:"";
    position: absolute;
    left: 40%;
    top: 20%;
    width: 15%;
    height: 40%;
    border: 4px solid #000000;
    border-width: 0 4px 4px 0;
    transform: rotate(45deg);
    display: none;
  }

  input[type="checkbox"]:checked:after {
    display: block;
  }
</style>


{% set countBe  = 0 %}
{% set countSt  = 0 %}
{% set countEx  = 0 %}
{% set countSk  = 0 %}



<form class="form" action="selection-criteria-summary" method="post">

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-three-quarters">
      <h1 class="govuk-heading-xl">
        When will you assess each element?
      </h1>
      <p class="govuk-body-l govuk-!-margin-bottom-3">You must choose when to assess all elements you have selected.</p>


      <h2 id="bheader" class="govuk-heading-l govuk-!-margin-top-3" style="border-bottom:1px solid #1d70b8;padding-bottom:10px;">Behaviours</h2>


      <!-- <p id="lShip" class="govuk-body-m govuk-!-margin-bottom-3"></p> -->

      <div id="behDiv"></div>






      <h2 id="eheader" class="govuk-heading-l govuk-!-margin-top-9" style="border-bottom:1px solid #1d70b8;padding-bottom:10px;">Experience</h2>

      <p style="font-size: 24px; font-weight: bold;">{{data['exp1']}}</p>

      {{ govukCheckboxes({
        name: "exp-1",

        items: [
          {
            value: "exp1Sift",
            text: "Sift"
          },
          {
            value: "exp1Int",
            text: "Interview"
          }
        ]
      }) }}<br>

      <p style="font-size: 24px; font-weight: bold;">{{data['exp2']}}</p>

      {{ govukCheckboxes({
        name: "exp-2",

        items: [
          {
            value: "exp2Sift",
            text: "Sift"
          },
          {
            value: "exp2Int",
            text: "Interview"
          }
        ]
      }) }}<br>

      <p style="font-size: 24px; font-weight: bold;">{{data['exp3']}}</p>

      {{ govukCheckboxes({
        name: "exp-3",

        items: [
          {
            value: "exp3Sift",
            text: "Sift"
          },
          {
            value: "exp3Int",
            text: "Interview"
          }
        ]
      }) }}<br><br>


        </div>










      </div><button class="govuk-button govuk-!-margin-top-9" onclick="getExpValues()" data-module="govuk-button">Continue</button>
      
    </form>

    <script>



      const behavioursSelected = JSON.parse(window.sessionStorage.getItem("BehavioursSelected"));

      var outputBS = document.getElementById("behDiv");
      var lShip = document.getElementById("lShip");
      var bsList = document.createElement("p");
      var lShipContent = document.createElement("p");
      var lShipMessage = "<strong>We recommend assessing Leadership at sift and interview for Grade 6 and 7 roles because they usually involve line management responsibilities.</strong>";
      for (var log=0; log < behavioursSelected.length; log++) {
        var outputBS = document.getElementById('behDiv');
        var contentBS = document.createElement("p");
        contentBS.style.cssText = "font-size:24px;font-weight:bold";
        contentBS.innerHTML = behavioursSelected[log];
        outputBS.appendChild(contentBS);
        var label = document.createElement("label");
        var checkBox = document.createElement("input");

        // if (behavioursSelected[log] == "Leadership") {
        //
        //   lShipContent.style.cssText = "line-height:1.6;font-size:20px;background:#F4FAFF;;border-left:5px solid #1d70b8;padding:20px";
        //   lShipContent.innerHTML = lShipMessage;
        //   lShip.appendChild(lShipContent);
        // }


        checkBox.type = "checkbox";
        checkBox.value = "Sift";
        checkBox.setAttribute("name",behavioursSelected[log]);
        checkBox.setAttribute("id","Behaviours");

        checkBox.style.cssText = "width: 40px;height: 40px;;padding: 0;margin: 0;vertical-align: bottom;position: relative;top: -30px;";
        label.style.cssText = "display: block;font-size:20px;padding-left: 15px;text-indent: 40px;";
        label.appendChild(document.createTextNode("Sift"));
        outputBS.appendChild(label);
        outputBS.appendChild(checkBox);

        var label2 = document.createElement("label");
        var checkBox2 = document.createElement("input");
        checkBox2.type = "checkbox";
        checkBox2.value = "Interview";
        checkBox2.setAttribute("name",behavioursSelected[log]);
        checkBox2.setAttribute("id","Behaviours");
        checkBox2.style.cssText = "width: 40px;height: 40px;;padding: 0;margin: 0;vertical-align: bottom;position: relative;top: -30px;";
        label2.style.cssText = "display: block;font-size:20px;padding-left: 15px;text-indent: 40px;";
        label2.appendChild(document.createTextNode("Interview"));
        outputBS.appendChild(label2);
        outputBS.appendChild(checkBox2);
      }





      const strengthsSelected = JSON.parse(window.sessionStorage.getItem("StrengthsSelected"));


      const withoutDuplicates = [...new Set(strengthsSelected)];
      console.log(withoutDuplicates);


      var outputSS = document.getElementById("strDiv");
      var stsList = document.createElement("p");


      var outputSS = document.getElementById('strDiv');
      var contentSS = document.createElement("p");
      contentSS.style.cssText = "font-size:24px;font-weight:bold";
      contentSS.innerHTML = withoutDuplicates;
      outputSS.appendChild(contentSS)
      var labelS = document.createElement("label");
      var checkBoxS = document.createElement("input");
      checkBoxS.setAttribute("name",withoutDuplicates);
      checkBoxS.setAttribute("id","Strengths");
      checkBoxS.type = "checkbox";
      checkBoxS.value = "Interview";
      checkBoxS.style.cssText = "width: 40px;height: 40px;;padding: 0;margin: 0;vertical-align: bottom;position: relative;top: -30px;";
      labelS.style.cssText = "display: block;font-size:20px;padding-left: 15px;text-indent: 40px;";
      labelS.appendChild(document.createTextNode("Interview"));
      outputSS.appendChild(labelS);
      outputSS.appendChild(checkBoxS);


      const SkillsSelected = JSON.parse(window.sessionStorage.getItem("SkillsSelected"));

      var sklsDDAT = document.getElementById('skillsDDAT')
      var strList = document.createElement("p");

      for (var g=0; g < SkillsSelected.length; g++) {
        var outputBS = document.getElementById('skillsDDAT');
        var strList = document.createElement("p");
        strList.style.cssText = "font-size:24px;font-weight:bold";
        strList.innerHTML = SkillsSelected[g];
        outputBS.appendChild(strList);
        var label = document.createElement("label");
        var checkBox = document.createElement("input");

        checkBox.type = "checkbox";
        checkBox.value = "Sift";
        checkBox.setAttribute("name",SkillsSelected[g]);
        checkBox.setAttribute("id","Skills");

        checkBox.style.cssText = "width: 40px;height: 40px;;padding: 0;margin: 0;vertical-align: bottom;position: relative;top: -30px;";
        label.style.cssText = "display: block;font-size:20px;padding-left: 15px;text-indent: 40px;";
        label.appendChild(document.createTextNode("Sift"));
        outputBS.appendChild(label);
        outputBS.appendChild(checkBox);

        var label2 = document.createElement("label");
        var checkBox2 = document.createElement("input");
        checkBox2.type = "checkbox";
        checkBox2.value = "Interview";
        checkBox2.setAttribute("name",SkillsSelected[g]);
        checkBox2.setAttribute("id","Skills");
        checkBox2.style.cssText = "width: 40px;height: 40px;;padding: 0;margin: 0;vertical-align: bottom;position: relative;top: -30px;";
        label2.style.cssText = "display: block;font-size:20px;padding-left: 15px;text-indent: 40px;";
        label2.appendChild(document.createTextNode("Interview"));
        outputBS.appendChild(label2);
        outputBS.appendChild(checkBox2);
      }

























      function checkCheckBoxes() {
        var stageChecksSift = [];
        var stageChecksInt = [];
        var arr1 = [];
        var arr2 = [];
        var arr3 = [];

        var arr4 = [];

        const siftStage = { };
        const intStage = { };

        var checks = document.getElementsByTagName('input');

        for (i = 0; i < checks.length; i++) {
          if (checks[i].type == 'checkbox' && checks[i].checked ) {

            if (checks[i].value == "Sift") {
              arr1.push(checks[i].name);
              arr2.push(checks[i].id);

              // } else if (checks[i].value == "Interview") {
              //   stageChecksInt.push(checks[i].value, checks[i].name, checks[i].id);
              //
              // }

              // window.sessionStorage.setItem("stageChecksInt", JSON.stringify(stageChecksInt));
            }

            if (checks[i].value == "Interview") {
              arr3.push(checks[i].name);
              arr4.push(checks[i].id);

              // } else if (checks[i].value == "Interview") {
              //   stageChecksInt.push(checks[i].value, checks[i].name, checks[i].id);
              //
              // }

              // window.sessionStorage.setItem("stageChecksInt", JSON.stringify(stageChecksInt));
            }

          }
        }


        for (var i = 0; i < arr1.length; i++) {
          siftStage[arr1[i]] = arr2[i];
        }
        window.sessionStorage.setItem("siftStage", JSON.stringify(siftStage));


        for (var j = 0; j < arr3.length; j++) {
          intStage[arr3[j]] = arr4[j];
        }
        window.sessionStorage.setItem("intStage", JSON.stringify(intStage));



      }




    </script>
    {% endblock %}
