{% extends "layouts/main.html" %}
{% from "govuk/components/textarea/macro.njk" import govukTextarea %}
{% from "govuk/components/checkboxes/macro.njk" import govukCheckboxes %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/radios/macro.njk" import govukRadios %}

{% block header %}
{% include '/csu71/includes/header.html' %}
{% endblock %}

{% block beforeContent %}

<section class="dwp-key-details-bar" aria-label="Key details">
<div class="dwp-key-details-bar__key-details">
<dl class="dwp-key-details-bar__top-block">
    <dt class="govuk-visually-hidden">Name:</dt>
    <dd class="dwp-key-details-bar__primary">Jane Doe</dd>
    <dt class="govuk-visually-hidden">National Insurance Number:</dt>
    <dd class="dwp-key-details-bar__secondary">QQ 12 34 56 X</dd>
    <dt class="govuk-visually-hidden">Claim status:</dt>
    <dd class="govuk-table__cell dwp-key-details-bar__status">
        <strong class="govuk-tag dwp-key-details-bar__status--dwp-default">
            completed
        </strong>
    </dd>
</dl>
<dl class="dwp-key-details-bar__bottom-block">
    <dt>Date of birth:</dt>
    <dd>4 June 1972</dd>
    <dt>Mobile number:</dt>
    <dd>07777 900 900</dd>
    <dt>Language:</dt>
    <dd>Welsh speaker</dd>
</dl>
</div>
</section>


<!-- <div  style="width:100%;background:#1d70b8;height:45px;border-bottom:0.5px solid #1d70b8;float:left">
<span style="float:left;padding-left:10px;color:white;font-weight:bold" class="govuk-caption-l">Interview</span>
<div class="" style="position:relative;float:right;margin-right:20px;margin-top:5px;">
<span class="govuk-body-m" style="background:white;border:1px solid #1d70b8;border-radius:5px;padding:7px"><a class="govuk-link  govuk-link--no-underline govuk-link--no-visited-state" style="color:#1d70b8;padding-left:8px;padding-right:8px" href="/csu71/sift/task-list"><strong>Return to task list</strong></a></span>
</div>
</div> -->
{% endblock %}


{% block content %}




<form class="form" action="#" method="post">


  <H1 style=";padding-top:20px;padding-bottom:5px;border-bottom:1px solid #1d70b8; " class="govuk-heading-xl govuk-!-margin-top-0 govuk-!-margin-bottom-6">Setup interview</H1>


  <div class="govuk-grid-row">
    <div class="govuk-grid-column-one-quarter" style="">


      <ul class="govuk-!-margin-top-6 govuk-list govuk-list--bullet-">
        <li><strong><p style ="border-left:5px solid #1d70b8;padding-left:30px" class="govuk-body-m"><a class="govuk-link govuk-link--no-underline govuk-link govuk-link--no-visited-state" href="setup-interview"><strong>PLACEHOLDER</a></p></strong></li>
        <li><strong><p style ="border-left:5px solid white;padding-left:10px" class="govuk-body-m"><a class="govuk-link govuk-link--no-underline govuk-link govuk-link--no-visited-state" href="setup-interview-ph1"><strong>ph1</a></p></strong></li>
        <li><strong><p style ="border-left:5px solid white;padding-left:10px" class="govuk-body-m"><a class="govuk-link govuk-link--no-underline govuk-link govuk-link--no-visited-state" href="setup-interview-ph2"><strong>ph2</a></p></strong></li>
        <li><strong><p style ="border-left:5px solid white;padding-left:10px" class="govuk-body-m"><a class="govuk-link govuk-link--no-underline govuk-link govuk-link--no-visited-state" href="setup-interview-ph3"><strong>ph3</a></p></strong></li>
        <li><strong><p style ="border-left:5px solid white;padding-left:10px" class="govuk-body-m"><a class="govuk-link govuk-link--no-underline govuk-link govuk-link--no-visited-state" href="setup-interview-ph4"><strong>ph4</a></p></strong></li>
        <li><strong><p style ="border-left:5px solid white;padding-left:10px" class="govuk-body-m"><a class="govuk-link govuk-link--no-underline govuk-link govuk-link--no-visited-state" href="setup-interview-ph5"><strong>ph5</a></p></strong></li>
      </ul>

      <div class="dwp-timeline">
      <h1 class="govuk-heading-m">Appointments</h1>
      <ol class="dwp-timeline__events">
      <li class="dwp-timeline__events--entry">
          <h2 class="govuk-heading-s govuk-!-margin-bottom-1">Accepted</h2>
          <p class="govuk-caption-m govuk-!-margin-bottom-1">by John Smith</p>
          <p class="govuk-caption-m">11 Aug 2021</p>
      </li>
      <li class="dwp-timeline__events--entry">
          <h2 class="govuk-heading-s govuk-!-margin-bottom-1">Declined</h2>
          <p class="govuk-caption-m govuk-!-margin-bottom-1">by John Smith</p>
          <p class="govuk-caption-m">10 Aug 2021</p>
      </li>
      </ol>
      </div>

    </div>
    <div class="govuk-!-margin-top-6 govuk-grid-column-three-quarters">

      <div class="moj-timeline">
        <div class="moj-timeline__item">

          <div class="moj-timeline__header">
            <h2 class="moj-timeline__title">Application requires confirmation</h2>

            <p class="moj-timeline__byline">by Joe Bloggs</p>

          </div>

          <p class="moj-timeline__date">
            <time datetime="2019-06-14T14:01:00.000Z">14 June 2019 at 2:01pm</time>
          </p>

          <div class="moj-timeline__description">
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras non felis risus. Curabitur nec ante vitae felis ullamcorper tincidunt.</p>
            <a class="govuk-button govuk-!-margin-bottom-0" href="#">Continue</a>
          </div>

        </div>

        <div class="moj-timeline__item">

          <div class="moj-timeline__header">
            <h2 class="moj-timeline__title">Application review in progress</h2>

            <p class="moj-timeline__byline">by Caseworker 1</p>

          </div>

          <p class="moj-timeline__date">
            <time datetime="2019-06-07T12:32:00.000Z">7 June 2019 at 12:32pm</time>
          </p>

          <div class="moj-timeline__description">Your application is being reviewed by one of our case workers.</div>

        </div>

        <div class="moj-timeline__item">

          <div class="moj-timeline__header">
            <h2 class="moj-timeline__title">Application received</h2>

            <p class="moj-timeline__byline">by Caseworker 1</p>

          </div>

          <p class="moj-timeline__date">
            <time datetime="2019-06-06T09:12:00.000Z">6 June 2019 at 9:12am</time>
          </p>

          <div class="moj-timeline__description">Your application has been received â€“ reference MOJ-1234-5678</div>

        </div>

        <div class="moj-timeline__item">

          <div class="moj-timeline__header">
            <h2 class="moj-timeline__title">Application submitted</h2>

            <p class="moj-timeline__byline">by Joe Bloggs</p>

          </div>

          <p class="moj-timeline__date">
            <time datetime="2019-05-28T10:45:00.000Z">28 May 2019 at 10:45am</time>
          </p>

          <div class="moj-timeline__description">
            <details class="govuk-details govuk-!-margin-bottom-0">
              <summary class="govuk-details__summary">
                <span class="govuk-details__summary-text">
                  Application details
                </span>
              </summary>
              <div class="govuk-details__text">
                Ut quam nunc, vulputate ac metus pharetra, posuere maximus velit. <a class="govuk-link" href="#">Etiam nec interdum velit.</a> Suspendisse molestie lectus in eros ornare
              </div>
            </details>
          </div>

        </div>

        <div class="moj-timeline__item">

          <div class="moj-timeline__header">
            <h2 class="moj-timeline__title">Documents uploaded</h2>

            <p class="moj-timeline__byline">by Joe Bloggs</p>

          </div>

          <p class="moj-timeline__date">
            <time datetime="2019-05-28T10:15:00.000Z">28 May 2019 at 10:15am</time>
          </p>

          <div class="moj-timeline__description">
            <ul class="moj-timeline__documents">
              <li class="moj-timeline__document-item">
                <a class="govuk-link" href="#">
                  <svg class="moj-timeline__document-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 20" width="20" height="16">
                    <path d="M9 7V1.5L14.5 7H9zM2 0C.9 0 0 .9 0 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6l-6-6H2z" />
                  </svg>
                  Document 1
                </a>
              </li>
              <li class="moj-timeline__document-item">
                <a class="govuk-link" href="#">
                  <svg class="moj-timeline__document-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 20" width="20" height="16">
                    <path d="M9 7V1.5L14.5 7H9zM2 0C.9 0 0 .9 0 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6l-6-6H2z" />
                  </svg>
                  Document 2
                </a>
              </li>
            </ul>
          </div>

        </div>

        <div class="moj-timeline__item">

          <div class="moj-timeline__header">
            <h2 class="moj-timeline__title">Application started</h2>

            <p class="moj-timeline__byline">by Joe Bloggs</p>

          </div>

          <p class="moj-timeline__date">
            <time datetime="2019-05-21T13:15:00.000Z">21 May 2019 at 1:15pm</time>
          </p>

          <div class="moj-timeline__description">
            <ul class="govuk-list govuk-list--bullet">
              <li><a class="govuk-link" href="#">Item 1</a></li>
              <li><a class="govuk-link" href="#">Item 2</a></li>
            </ul>
          </div>

        </div>
      </div>



      <button onclick="checkCheckBoxes()" class="govuk-button govuk-!-margin-top-9" data-module="govuk-button">Continue</button>




    </div>


  </div>

  <span id='local-variable' style="display:none">{{ data['templateName'] }}</span>

  <input type="hidden" name="source" value="behaviours">
</FORM>

<!-- {% include '/csu71/includes/footerarea.html' %} -->

<script>






  const myObjectName = document.querySelector('#templateName');
  console.log(myObjectName.value)




  // var myObjectName = {{ data.templateName | dump | safe }};


  // const storedValue = document.getElementById("templateName");
  // function showingOffTag(thing) {
  //
  //   storedValue.textContent = thing;
  //
  //   console.log(storedValue)
  // }

  // var ddattag = document.getElementById("ddattag");
  // var cotag = document.getElementById("cotag");
  // var hotag = document.getElementById("hotag");




  var hea1 = document.getElementById("header1");


  const object = JSON.parse(window.sessionStorage.getItem("behaviours"));
  var obj0 = Object.values(object.level0);
  var level = obj0;

  for (var t=0;t<level.length;t++) {

    var hintText = level[t].description;


    var label = document.createElement("label");
    var checkBox = document.createElement("input");
    var hint = document.createElement("hint");
    checkBox.type = "checkbox";
    checkBox.style.cssText = "width: 30px;height: 30px;padding: 0;margin: 0;vertical-align: bottom;position: relative;top: -30px;";
    label.style.cssText = "display: block;padding-left: 15px;padding-top:30px;text-indent: 40px;";
    hint.style.cssText = "display: block;padding-left: 55px;";
    checkBox.value = level[t].title;
    hint.value = level[t].description;
    checkBox.setAttribute("id","behaviours-"+t);
    checkBox.setAttribute("name","behaviours");

    label.appendChild(document.createTextNode(level[t].title));

    hea1.appendChild(label);


    hea1.appendChild(checkBox);
    hint.appendChild(document.createTextNode(level[t].description));
    hea1.appendChild(hint);
  }

  graSelecta("levelgrade");


  function graSelecta(grade){
    var grade = document.getElementById(grade).value;

    var hea1 = document.getElementById("header1");
    hea1.innerText = "";
    const object = JSON.parse(window.sessionStorage.getItem("behaviours"));


    var level;
    var obj0 = Object.values(object.level0);
    var obj1 = Object.values(object.level1);
    var obj2 = Object.values(object.level2);
    var obj3 = Object.values(object.level3);
    var obj4 = Object.values(object.level4);


    if (grade == "level0") {
      level = obj0;
    }


    if (grade == "level1") {
      level = obj1;

    } else if (grade == "level2") {
      level = obj2;

    } else if (grade == "level3") {
      level = obj3;
    }   else if (grade == "level4") {
      level = obj4;
    }




    for (var t=0;t<level.length;t++) {
      var hintText = level[t].description;

      var label = document.createElement("label");
      var checkBox = document.createElement("input");
      var hint = document.createElement("hint");
      checkBox.type = "checkbox";
      checkBox.style.cssText = "width: 30px;height: 30px;padding: 0;margin: 0;vertical-align: bottom;position: relative;top: -30px;";
      label.style.cssText = "display: block;padding-left: 15px;padding-top:30px;text-indent: 40px;";
      hint.style.cssText = "display: block;padding-left: 55px;";
      checkBox.value = level[t].title;


      hint.value = level[t].description;
      checkBox.setAttribute("id","behaviours-"+t);
      checkBox.setAttribute("name","behaviours");
      hint.setAttribute("id",level[t].title);
      hint.setAttribute("name",grade);
      label.appendChild(document.createTextNode(level[t].title));

      hea1.appendChild(label);


      hea1.appendChild(checkBox);
      hint.appendChild(document.createTextNode(level[t].description));
      hea1.appendChild(hint);

      if (myObjectName.value == "ddat"){
        if (level[t].title == "Seeing the big picture" || level[t].title == "Changing and improving" || level[t].title == "Delivering at Pace" || level[t].title == "Communicating and Influencing"){
          label.setAttribute("class","experiment");

          checkBox.checked = "true";
        }
      }


    }
  }


  function checkCheckBoxes() {
    var behaviourCheck = [];

    var checkboxB = document.getElementsByTagName('input');

    for (i = 0; i < checkboxB.length; i++) {
      var checkCt = checkboxB[i].checked.length;
      if (checkboxB[i].type == 'checkbox' && checkboxB[i].checked ) {
        behaviourCheck.push(checkboxB[i].value);
        window.sessionStorage.setItem("BehavioursSelected", JSON.stringify(behaviourCheck));
      }
    }


  }

  const dwqq = JSON.parse(window.sessionStorage.getItem("BehavioursSelected"));


  const keyDetails = {};
  var keyD = JSON.parse(window.sessionStorage.getItem("keyDetails"));

  // const title = document.getElementById("title").value;
  // const grade = document.getElementById("newgrade").value
  // const profession = document.getElementById("grabProf").value;
  // const department = document.getElementById("dept").value;

  // console.log(keyD)

  keyDetails.title = keyD.jobTitle;
  keyDetails.grade = keyD.grade;
  keyDetails.profession = keyD.profession;
  keyDetails.department = keyD.department;



  //     var tempSelected = document.getElementById("templateName").value;
  // keyDetails.template = tempSelected;
  //     console.log(tempSelected)


  // switch (keyDetails.profession) {
  //   case 'title':
  //   res.redirect('job-library')
  //   break
  //   case 'profession':
  //   res.redirect('job-library-profession')
  //   break
  // case 'skill':
  //   res.redirect('skills')
  //   break
  // }
  // })

















</script>


{% endblock %}
