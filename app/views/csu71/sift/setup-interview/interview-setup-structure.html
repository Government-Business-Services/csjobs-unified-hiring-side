{% extends "layouts/main.html" %}
{% from "govuk/components/textarea/macro.njk" import govukTextarea %}
{% from "govuk/components/checkboxes/macro.njk" import govukCheckboxes %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/radios/macro.njk" import govukRadios %}

{% block header %}
{% include '/csu71/includes/header.html' %}
{% endblock %}

{% block beforeContent %}
<div  style="width:100%;background:#1d70b8;height:45px;border-bottom:0.5px solid #1d70b8;float:left">

  <!-- <div class="govuk-!-margin-top-3" style="float:left;width:40%;margin-left:30px;"><span class="govuk-body-m" style="background:white;border:1px solid #1d70b8;border-radius:5px;padding:7px"><a class="govuk-link  govuk-link--no-underline govuk-link--no-visited-state" style="color:#1d70b8" href="job-library"><strong>Create a new vacancy</strong></a></span>
</div> -->
<span style="float:left;padding-left:10px;color:white;font-weight:bold" class="govuk-caption-l">Interview</span>

<div class="" style="position:relative;float:right;margin-right:20px;margin-top:5px;">


  <span class="govuk-body-m" style="background:white;border:1px solid #1d70b8;border-radius:5px;padding:7px"><a class="govuk-link  govuk-link--no-underline govuk-link--no-visited-state" style="color:#1d70b8;padding-left:8px;padding-right:8px" href="/csu71/sift/task-list"><strong>Return to task list</strong></a></span>

</div>

</div>
{{ govukBackLink({
  text: "Back",
  href: "javascript:window.history.back()"
}) }}
{% endblock %}

{% block content %}




  <form class="form" action="#" method="post">

    <H1 style=";padding-top:20px;padding-bottom:5px;border-bottom:1px solid #1d70b8; " class="govuk-heading-xl govuk-!-margin-top-1 govuk-!-margin-bottom-6">Interview structure</H1>


      <div class="govuk-grid-row">
        <!-- <div class="govuk-grid-column-one-quarter" style="">


          <ul class="govuk-!-margin-top-6 govuk-list govuk-list--bullet-">

            <li><strong><p style ="border-left:5px solid #1d70b8;padding-left:20px" class="govuk-body-m"><a class="govuk-link govuk-link--no-underline govuk-link govuk-link--no-visited-state" href="select-{{items }}"><strong>Interview structure</a></p></strong></li>

            <li><strong><p style ="border-left:2px solid white;padding-left:20px" class="govuk-body-m"><a class="govuk-link govuk-link--no-underline govuk-link govuk-link--no-visited-state" href="select-{{items }}"><strong>Strengths questions</a></p></strong></li>


            <li><strong><p style ="border-left:2px solid white;padding-left:20px" class="govuk-body-m"><a class="govuk-link govuk-link--no-underline govuk-link govuk-link--no-visited-state" href="select-{{items }}"><strong>Strengths questions</a></p></strong></li>

            <li><strong><p style ="border-left:2px solid white;padding-left:20px" class="govuk-body-m"><a class="govuk-link govuk-link--no-underline govuk-link govuk-link--no-visited-state" href="select-{{items }}"><strong>Experience questions</a></p></strong></li>
          </ul>

        </div> -->
        <div class="govuk-!-margin-top-6 govuk-grid-column-full">


              <div class="govuk-summary-card govuk-summary-list--no-border" style="border:0px">
                <div style="height:30px; background: white" class="govuk-summary-card__title-wrapper">

                </div>
                <!-- <div class="govuk-summary-card__content"> -->
                  <dl class="govuk-summary-list">
                    <div class="govuk-summary-list__row" style="background:#f3f2f1;border-bottom:1px solid #1d70b8;padding-bottom:10px">
                      <dt style="width:10%;padding-left:5px;;font-weight:normal" class="govuk-summary-list__key">
                        <strong>Allotted time</strong>
                      </dt>
                      <dt style="width:10%;padding-left:5px;;font-weight:normal" class="govuk-summary-list__key">
                        <strong>Order</strong>
                      </dt>
                      <dt style="width:30%;padding-left:5px;;font-weight:normal" class="govuk-summary-list__key">
                        <strong>Method</strong>
                      </dt>
                      <dt style="width:15%;padding-left:5px;;font-weight:normal" class="govuk-summary-list__key">
                        <strong>Element</strong>
                      </dt>
                      <dt style="width:35%;padding-left:5px;;font-weight:normal" class="govuk-summary-list__key">
                        <strong>Selection criteria</strong>
                      </dt>
                    </div>


                    <div class="govuk-summary-list__row" style="background:#F4FAFF;border-bottom:1px solid #1d70b8;padding-bottom:10px">

                      <dd style="padding-left:5px;;font-weight:normal"  class="govuk-summary-list__value">

                        <div class="govuk-form-group">
                          <div class="govuk-input__wrapper"><input style="" class="govuk-input govuk-input--width-2" id="weight" value="2" name="weight" type="text" spellcheck="false">
                            <div class="govuk-input__suffix" aria-hidden="true">mins</div>
                          </div>
                        </div>
                      </dd>
                      <dd style="padding-left:5px;;font-weight:normal"  class="govuk-summary-list__value">
                        1
                      </dd>
                      <dd style="padding-left:5px;;font-weight:normal"  class="govuk-summary-list__value">
                        Welcome candidate
                      </dd>
                      <dd style="padding-left:5px;;font-weight:normal" class="govuk-summary-list__value">
          Interview intro
                      </dd>
                      <dd style="padding-left:5px;;font-weight:normal"  class="govuk-summary-list__value">
          Unscored
                      </dd>
                    </div>

                    <div class="govuk-summary-list__row" style="background:#F4FAFF;border-bottom:1px solid #1d70b8;padding-bottom:10px">

                      <dd style="padding-left:5px;;font-weight:normal"  class="govuk-summary-list__value">

                        <div class="govuk-form-group">
                          <div class="govuk-input__wrapper"><input class="govuk-input govuk-input--width-2" id="a0" value="10" name="a0" type="text" spellcheck="false">
                            <div class="govuk-input__suffix" aria-hidden="true">mins</div>
                          </div>
                        </div>
                      </dd>
                      <dd style="padding-left:5px;;font-weight:normal"  class="govuk-summary-list__value">
                        2
                      </dd>
                      <dd style="padding-left:5px;;font-weight:normal"  class="govuk-summary-list__value">
                        Warm up questions
                      </dd>
                      <dd style="padding-left:5px;;font-weight:normal" class="govuk-summary-list__value">
          General
                      </dd>
                      <dd style="padding-left:5px;;font-weight:normal"  class="govuk-summary-list__value">
          Unscored
                      </dd>
                    </div>

                    <!-- <div class="govuk-summary-list__row" style="border-bottom:0.5px solid #1d70b8;padding-bottom:10px">

                      <dd style="padding-left:5px;;font-weight:normal"  class="govuk-summary-list__value">

                        <div class="govuk-form-group">
                          <div class="govuk-input__wrapper"><input class="govuk-input govuk-input--width-2" id="weight" value="10" name="weight" type="text" spellcheck="false">
                            <div class="govuk-input__suffix" aria-hidden="true">mins</div>
                          </div>
                        </div>
                      </dd>
                      <dd style="padding-left:5px;;font-weight:normal"  class="govuk-summary-list__value">
                        1
                      </dd>
                      <dd style="padding-left:5px;;font-weight:normal"  class="govuk-summary-list__value">
                        General questions
                      </dd>
                      <dd style="padding-left:5px;;font-weight:normal" class="govuk-summary-list__value">
          Experience
                      </dd>
                      <dd style="padding-left:5px;;font-weight:normal"  class="govuk-summary-list__value">
          Experience to date, track record
                      </dd>
                    </div> -->


                    <div class="govuk-summary-list__row" style="border-bottom:0.5px solid #1d70b8;padding-bottom:10px">

                      <dd style="padding-left:5px;;font-weight:normal"  class="govuk-summary-list__value">

                        <div class="govuk-form-group">
                          <div class="govuk-input__wrapper"><input class="govuk-input govuk-input--width-2" id="a1" value="21" name="a1" type="text" spellcheck="false">
                            <div class="govuk-input__suffix" aria-hidden="true">mins</div>
                          </div>
                        </div>
                      </dd>
                      <dd style="padding-left:5px;;font-weight:normal"  class="govuk-summary-list__value">
                        3
                      </dd>
                      <dd style="padding-left:5px;;font-weight:normal"  class="govuk-summary-list__value">
                        Behavioural based questions
                      </dd>
                      <dd style="padding-left:5px;;font-weight:normal" class="govuk-summary-list__value">
                        Behaviours
                      </dd>
                      <dd style="padding-left:5px;;font-weight:normal"  class="govuk-summary-list__value">
                        Seeing the Big Picture, Changing and Improving, Leadership
                      </dd>
                    </div>

                    <div class="govuk-summary-list__row" style="border-bottom:0.5px solid #1d70b8;padding-bottom:10px">

                      <dd style="padding-left:5px;;font-weight:normal"  class="govuk-summary-list__value">

                        <div class="govuk-form-group">
                          <div class="govuk-input__wrapper"><input class="govuk-input govuk-input--width-2" id="a2" name="weight" type="a2" value="6" spellcheck="false">
                            <div class="govuk-input__suffix" aria-hidden="true">mins</div>
                          </div>
                        </div>
                      </dd>
                      <dd style="padding-left:5px;;font-weight:normal"  class="govuk-summary-list__value">
                        4
                      </dd>
                      <dd style="padding-left:5px;;font-weight:normal"  class="govuk-summary-list__value">
                        Strengths interview questions
                      </dd>
                      <dd style="padding-left:5px;;font-weight:normal" class="govuk-summary-list__value">
                        Strengths
                      </dd>
                      <dd style="padding-left:5px;;font-weight:normal"  class="govuk-summary-list__value">
                        Analytical, Challenger, Problem solver
                      </dd>
                    </div>

                    <!-- <div class="govuk-summary-list__row" style="border-bottom:1px solid #1d70b8;padding-bottom:10px">

                      <dd style="padding-left:5px;;font-weight:normal"  class="govuk-summary-list__value">

                        <div class="govuk-form-group">
                          <div class="govuk-input__wrapper"><input class="govuk-input govuk-input--width-2" id="a3" value="15" name="a3" type="text" spellcheck="false">
                            <div class="govuk-input__suffix" aria-hidden="true">mins</div>
                          </div>
                        </div>
                      </dd>
                      <dd style="padding-left:5px;;font-weight:normal"  class="govuk-summary-list__value">
                        4
                      </dd>
                      <dd style="padding-left:5px;;font-weight:normal"  class="govuk-summary-list__value">
                        15-minute presentation
                      </dd>
                      <dd style="padding-left:5px;;font-weight:normal" class="govuk-summary-list__value">
                        Experience
                      </dd>
                      <dd style="padding-left:5px;;font-weight:normal"  class="govuk-summary-list__value">
                        Past projects: the good, the bad and the ugly
                      </dd>
                    </div> -->

                    <div class="govuk-summary-list__row" style="background:#F4FAFF;border-bottom:1px solid #1d70b8;padding-bottom:10px">

                      <dd style="padding-left:5px;;font-weight:normal"  class="govuk-summary-list__value">
                        <div class="govuk-form-group">
                          <div class="govuk-input__wrapper"><input class="govuk-input govuk-input--width-2" id="a4" value="5" name="a4" type="text" spellcheck="false">
                            <div class="govuk-input__suffix" aria-hidden="true">mins</div>
                          </div>
                        </div>
                      </dd>
                      <dd style="padding-left:5px;;font-weight:normal"  class="govuk-summary-list__value">
                        5
                      </dd>
                      <dd style="padding-left:5px;;font-weight:normal"  class="govuk-summary-list__value">Closing the interview {Chair}, opportunity for candidate questions

                      </dd>
                      <dd style="padding-left:5px;;font-weight:normal" class="govuk-summary-list__value">General

                      </dd>
                      <dd style="padding-left:5px;;font-weight:normal"  class="govuk-summary-list__value">Unscored
                      </dd>
                    </div>




                  </dl>




        <div class="govuk-!-margin-bottom-6" >
            <div  class="govuk-!-margin-bottom-0 ">





          <button onclick="checkCheckBoxes()" class="govuk-button govuk-!-margin-top-9" data-module="govuk-button">Continue</button>




        </div>


      </div>

<span id='local-variable' style="display:none">{{ data['templateName'] }}</span>

      <input type="hidden" name="source" value="behaviours">
    </FORM>

    {% include '/csu71/includes/footerarea.html' %}

    <script>






          const myObjectName = document.querySelector('#templateName');
console.log(myObjectName.value)




      // var myObjectName = {{ data.templateName | dump | safe }};


      // const storedValue = document.getElementById("templateName");
      // function showingOffTag(thing) {
      //
      //   storedValue.textContent = thing;
      //
      //   console.log(storedValue)
      // }

      // var ddattag = document.getElementById("ddattag");
      // var cotag = document.getElementById("cotag");
      // var hotag = document.getElementById("hotag");




      var hea1 = document.getElementById("header1");


      const object = JSON.parse(window.sessionStorage.getItem("behaviours"));
      var obj0 = Object.values(object.level0);
      var level = obj0;

      for (var t=0;t<level.length;t++) {

        var hintText = level[t].description;


        var label = document.createElement("label");
        var checkBox = document.createElement("input");
        var hint = document.createElement("hint");
        checkBox.type = "checkbox";
        checkBox.style.cssText = "width: 30px;height: 30px;padding: 0;margin: 0;vertical-align: bottom;position: relative;top: -30px;";
        label.style.cssText = "display: block;padding-left: 15px;padding-top:30px;text-indent: 40px;";
        hint.style.cssText = "display: block;padding-left: 55px;";
        checkBox.value = level[t].title;
        hint.value = level[t].description;
        checkBox.setAttribute("id","behaviours-"+t);
        checkBox.setAttribute("name","behaviours");

        label.appendChild(document.createTextNode(level[t].title));

        hea1.appendChild(label);


        hea1.appendChild(checkBox);
        hint.appendChild(document.createTextNode(level[t].description));
        hea1.appendChild(hint);
      }

      graSelecta("levelgrade");


      function graSelecta(grade){
        var grade = document.getElementById(grade).value;

        var hea1 = document.getElementById("header1");
        hea1.innerText = "";
        const object = JSON.parse(window.sessionStorage.getItem("behaviours"));


        var level;
        var obj0 = Object.values(object.level0);
        var obj1 = Object.values(object.level1);
        var obj2 = Object.values(object.level2);
        var obj3 = Object.values(object.level3);
        var obj4 = Object.values(object.level4);


        if (grade == "level0") {
          level = obj0;
        }


        if (grade == "level1") {
          level = obj1;

        } else if (grade == "level2") {
          level = obj2;

        } else if (grade == "level3") {
          level = obj3;
        }   else if (grade == "level4") {
          level = obj4;
        }




        for (var t=0;t<level.length;t++) {
          var hintText = level[t].description;

          var label = document.createElement("label");
          var checkBox = document.createElement("input");
          var hint = document.createElement("hint");
          checkBox.type = "checkbox";
          checkBox.style.cssText = "width: 30px;height: 30px;padding: 0;margin: 0;vertical-align: bottom;position: relative;top: -30px;";
          label.style.cssText = "display: block;padding-left: 15px;padding-top:30px;text-indent: 40px;";
          hint.style.cssText = "display: block;padding-left: 55px;";
          checkBox.value = level[t].title;


          hint.value = level[t].description;
          checkBox.setAttribute("id","behaviours-"+t);
          checkBox.setAttribute("name","behaviours");
          hint.setAttribute("id",level[t].title);
          hint.setAttribute("name",grade);
          label.appendChild(document.createTextNode(level[t].title));

          hea1.appendChild(label);


          hea1.appendChild(checkBox);
          hint.appendChild(document.createTextNode(level[t].description));
          hea1.appendChild(hint);

          if (myObjectName.value == "ddat"){
            if (level[t].title == "Seeing the big picture" || level[t].title == "Changing and improving" || level[t].title == "Delivering at Pace" || level[t].title == "Communicating and Influencing"){
              label.setAttribute("class","experiment");

              checkBox.checked = "true";
            }
          }


        }
      }


      function checkCheckBoxes() {
        var behaviourCheck = [];

        var checkboxB = document.getElementsByTagName('input');

        for (i = 0; i < checkboxB.length; i++) {
          var checkCt = checkboxB[i].checked.length;
          if (checkboxB[i].type == 'checkbox' && checkboxB[i].checked ) {
            behaviourCheck.push(checkboxB[i].value);
            window.sessionStorage.setItem("BehavioursSelected", JSON.stringify(behaviourCheck));
          }
        }


      }

      const dwqq = JSON.parse(window.sessionStorage.getItem("BehavioursSelected"));


      const keyDetails = {};
      var keyD = JSON.parse(window.sessionStorage.getItem("keyDetails"));

      // const title = document.getElementById("title").value;
      // const grade = document.getElementById("newgrade").value
      // const profession = document.getElementById("grabProf").value;
      // const department = document.getElementById("dept").value;

      // console.log(keyD)

      keyDetails.title = keyD.jobTitle;
      keyDetails.grade = keyD.grade;
      keyDetails.profession = keyD.profession;
      keyDetails.department = keyD.department;



  //     var tempSelected = document.getElementById("templateName").value;
  // keyDetails.template = tempSelected;
  //     console.log(tempSelected)


        // switch (keyDetails.profession) {
        //   case 'title':
        //   res.redirect('job-library')
        //   break
        //   case 'profession':
        //   res.redirect('job-library-profession')
        //   break
        // case 'skill':
        //   res.redirect('skills')
        //   break
        // }
        // })

















    </script>


    {% endblock %}
